# kumagaya管理
kumagayaは**NVIDIA GeForce GTX 1080 Ti**を2基搭載した共用PCです。

## 仮想マシンの管理
開発担当者ごとに仮想マシンを作成し、割り当てます。

### 仮想マシンの作成
仮想マシンの作成は、次の2種類の方法があります：
- 新規作成
- 仮想アプライアンスのインポート

前者で作成する場合、リソースの割り当てなどを細かく決められますが、VMの設定とOSのセットアップを最初から行うため手間がかかります。後者はAI-OCRで作成したセットアップ済みのイメージを用いるため、手順が少なく済みます。

#### 新規作成する場合
|設定項目|値|
|---|---|
|仮想マシン名|任意|
|OS|Windows 10 (64-bit)|
|メモリ|10240 MB|
|ハードディスク|作成する|
|ハードディスクのファイルタイプ|VMDK (Virtual Machine Disk)|
|物理ハードディスクにあるストレージ|固定サイズ|
|ハードディスクファイルの場所|任意(デフォルトでOK)|
|ハードディスクのサイズ|32 GB|


#### 仮想アプライアンス
仮想アプライアンスは`D:\VirtualBoxImages\`に置かれています。
1. VirtualBoxマネージャから[ファイル] > [仮想アプライアンスのインポート]を選択します。
2. ウィザードが開くので、`PanaOCR.ova`または任意のovaファイルを選択します。
3. [仮想アプライアンスの設定]で名前を適切に設定します(e.g. NNC-nozoe)。
4. [仮想ディスクイメージ]のパスも名前に合わせて変更します。
5. [インポート]ボタンをクリックしたら仮想マシンが追加されます。

#### 共有フォルダの設定
kumagayaと仮想マシンで同じフォルダにアクセスできるように設定します。  
この設定により、kumagayaと仮想マシンの双方で作業ファイルを共有できます。
1. `D:\vm_share\`にフォルダを作成します。たとえば`vm-nozoe`とします。
2. VirtualBoxマネージャから作成した仮想マシンを選択して設定を開きます。
3. [共有フォルダ－]を選択し、1.で作成したフォルダを追加してください。

#### IPアドレスの固定とリモートデスクトップの有効化
仮想マシンにリモートログインするために、仮想マシンのIPアドレスを固定します。
1. kumagayaから仮想マシンを起動し、ログインします。
2. コントロールパネルから[ネットワークと共有センター]を開き、左ペインの[アダプターの設定の変更]を開きます。
3. [イーサネット]を選択し、プロパティを開きます。
4. リストから[インターネット プロトコル バージョン4]を選択し、プロパティを開きます。
5. [次のIPアドレスを使う]、[次のDNSサーバのアドレスを使う]を選択し、IPアドレスを入力して[OK]とします。IPアドレスの末尾は他の仮想マシンと重複しない値に設定してください。

|項目|値|
|---|---|
|IPアドレス|`192.168.2.67`|
|サブネットマスク|`255.255.255.0`|
|デフォルトゲートウェイ|`192.168.2.1`|
|優先DNSサーバ|`192.168.2.1`|

6. 最後に、Windowsの設定を開き、[システム] > [リモートデスクトップ]と開いて[リモートデスクトップを有効にする]をオンにします。
